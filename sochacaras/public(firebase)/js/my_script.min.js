var providerGoogle=new firebase.auth.GoogleAuthProvider,providerFacebook=new firebase.auth.FacebookAuthProvider,user,homeBtn=document.getElementById("homeBtn"),perfilBtn=document.getElementById("perfilBtn"),faqBtn=document.getElementById("faqBtn"),sobreAppBtn=document.getElementById("sobreAppBtn"),addBtn=document.getElementById("addBtn"),cancelarCad=document.getElementById("cancelarCad"),cancelarCadVIP=document.getElementById("cancelarCadVIP"),logOutButton=document.getElementById("logOutButton"),
btnFaq=document.getElementById("btnfaq"),faqNome=$("#faqNome"),faqEmail=$("#faqEmail"),faqTelefone=$("#faqTelefone"),faqAssunto=$("#faqAssunto"),faqMenssagem=$("#faqMensagem");$(document).ready(function(){$("#myNavbar").show();$("#bootNavbar").hide();$("#secLogin").show();$("#secUserInfo").hide();$("#secIndex").hide();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").hide()});
firebase.auth().onAuthStateChanged(function(a){a&&(firebase.auth(),queryDatabase())});function signIn(){firebase.auth().signInWithPopup(providerGoogle).then(function(a){user=a.user;showPerfilContainer()})["catch"](function(a){})}function logIn(){firebase.auth().signInWithPopup(providerFacebook).then(function(a){user=a.user;showPerfilContainer()})["catch"](function(a){})}
function showPerfilContainer(){var a=document.createElement("img");a.src=user.photoURL;$(a).addClass("userFoto");$("#myNavbar").hide();$("#bootNavbar").show();$("#secLogin").hide();$("#secUserInfo").show();$("#secIndex").hide();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").show();$("#userNome").html("Ol\u00e1, "+user.displayName);$("#userFoto").html(a)}
linkBtn.addEventListener("click",function(){$("#myNavbar").hide();$("#bootNavbar").show();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").show();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").show()});
homeBtn.addEventListener("click",function(){$("#myNavbar").hide();$("#bootNavbar").show();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").show();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").show()});perfilBtn.addEventListener("click",function(){showPerfilContainer()});
faqBtn.addEventListener("click",function(){$("#myNavbar").hide();$("#bootNavbar").show();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").hide();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").show();$("#secSobreApp").hide();$("#cadBtn").show()});btnFaq.addEventListener("click",function(){alert("Sua mensagem foi enviada com sucesso!!!");faqNome.val("");faqEmail.val("");faqTelefone.val("");faqAssunto.val("");faqMenssagem.val("")});
sobreAppBtn.addEventListener("click",function(){$("#myNavbar").hide();$("#bootNavbar").show();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").hide();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").hide();$("#secSobreApp").show();$("#cadBtn").show()});
addBtn.addEventListener("click",function(){$("#myNavbar").show();$("#bootNavbar").hide();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").hide();$("#secChacInfo").hide();$("#secCadChac").show();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").hide()});
cadChacBtn.addEventListener("click",function(){$("#myNavbar").show();$("#bootNavbar").hide();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").hide();$("#secChacInfo").hide();$("#secCadChac").show();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").hide()});
cancelarCad.addEventListener("click",function(){$("#myNavbar").hide();$("#bootNavbar").show();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").show();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").show()});
function completeCadChac(){$("#myNavbar").hide();$("#bootNavbar").show();$("#secLogin").hide();$("#secUserInfo").hide();$("#secIndex").show();$("#secChacInfo").hide();$("#secCadChac").hide();$("#secFAQ").hide();$("#secSobreApp").hide();$("#cadBtn").show()}logOutButton.addEventListener("click",function(){firebase.auth().signOut().then(function(){alert("Voc\u00ea se deslogou");window.open("index.html","_self")},function(a){console.error(a)})});var selectedFile;
document.getElementById("upload").addEventListener("change",handleFileSelect,!1);function handleFileSelect(a){selectedFile=a.target.files[0]}
function uploadFile(){var a=selectedFile.name,c=firebase.storage().ref("/fotos-chacaras/"+a).put(selectedFile);c.on("state_changed",function(a){},function(a){},function(){var a=firebase.database().ref("Chacaras/").push().key,d={},e={imageURL:c.snapshot.downloadURL,Nome:$("#chacNome").val(),Dono:$("#chacDono").val(),userTelCont:$("#chacTel").val(),Endereco:$("#chacEnd").val(),Numero:$("#chacNum").val(),Complemento:$("#chacComp").val(),CEP:$("#chacCEP").val(),Cidade:$("#chacCity").val(),Estado:$("#chacEstate").val(),
valorAluguel:$("#chacValor").val(),Quartos:$("#chacQuartos").val(),Camas:$("#chacCamas").val(),Banheiros:$("#chacBanheiros").val(),Churrasqueiras:$("#chacChurrasqueiras").val(),Piscinas:$("#chacPiscinas").val(),Descricao:$("#chacDescricao").val(),Contrato:"no",totalEstrelas:0,mediaEstrelas:0,qtdVotos:0,userID:user.uid,userName:user.displayName,userFotoURL:user.photoURL};d["/Chacaras/"+a]=e;firebase.database().ref().update(d);completeCadChac();displayChacNotification()})}
function uploadFileVIP(){var a=selectedFile.name,c=firebase.storage().ref("/fotos-chacaras/"+a).put(selectedFile);c.on("state_changed",function(a){},function(a){},function(){var a=firebase.database().ref("Chacaras/").push().key,d={},e={imageURL:c.snapshot.downloadURL,Nome:$("#chacNome").val(),Dono:$("#chacDono").val(),userTelCont:$("#chacTel").val(),Endereco:$("#chacEnd").val(),Numero:$("#chacNum").val(),Complemento:$("#chacComp").val(),CEP:$("#chacCEP").val(),Cidade:$("#chacCity").val(),Estado:$("#chacEstate").val(),
valorAluguel:$("#chacValor").val(),Quartos:$("#chacQuartos").val(),Camas:$("#chacCamas").val(),Banheiros:$("#chacBanheiros").val(),Churrasqueiras:$("#chacChurrasqueiras").val(),Piscinas:$("#chacPiscinas").val(),Descricao:$("#chacDescricao").val(),Contrato:"yes",totalEstrelas:0,mediaEstrelas:0,qtdVotos:0,userID:user.uid,userName:user.displayName,userFotoURL:user.photoURL};d["/Chacaras/"+a]=e;firebase.database().ref().update(d);completeCadChac();displayChacNotification()})}
var db=firebase.database().ref(),RefChac=db.child("Chacaras"),chacList=document.getElementById("chacList");
function queryDatabase(){RefChac.once("value").then(function(a){a=a.val();for(var c=Object.keys(a),k,d,e=0;e<c.length;e++){var b=a[c[e]];0==e%1&&(k=document.createElement("div"),$(k).addClass("row"),d=document.createElement("li"),$(d).addClass("chacLi"),$(d).append(k));var m=document.createElement("div");$(m).addClass("col-md-4");var w=document.createElement("div");$(w).addClass("col-md-8");$(w).addClass("chacDiv");var C=document.createElement("div");$(C).addClass("contentStars");var D=document.createElement("div");
$(D).addClass("divStars");var E=document.createElement("div");$(E).addClass("btnChac");var F=document.createElement("div");$(F).addClass("chacDiv1");var x=document.createElement("div");$(x).addClass("chacDiv2");$(x).addClass("content");var G=document.createElement("img");G.src=b.imageURL;$(G).addClass("contentImage");var H=document.createElement("p");$(H).addClass("contentInfo");$(H).html(b.Nome);var I=document.createElement("p");$(I).addClass("contentInfo");$(I).html("Nome: "+b.Nome);var J=document.createElement("p");
$(J).addClass("contentInfo");$(J).html(b.Endereco);var K=document.createElement("p");$(K).addClass("contentInfo");$(K).html("Localidade: "+b.Endereco);var L=document.createElement("p");$(L).addClass("contentInfo");$(L).html("N\u00famero: "+b.Numero);var M=document.createElement("p");$(M).addClass("contentInfo");$(M).html("Complemento: "+b.Complemento);var N=document.createElement("p");$(N).addClass("contentInfo");$(N).html("CEP: "+b.CEP);var O=document.createElement("p");$(O).addClass("contentInfo");
$(O).html(b.Cidade);var P=document.createElement("p");$(P).addClass("contentInfo");$(P).html("Cidade: "+b.Cidade);var Q=document.createElement("p");$(Q).addClass("contentInfo");$(Q).html("Estado: "+b.Estado);var R=document.createElement("p");$(R).addClass("contentInfo2");$(R).html("Qtd Quartos: "+b.Quartos);var S=document.createElement("p");$(S).addClass("contentInfo2");$(S).html("Qtd Camas: "+b.Camas);var T=document.createElement("p");$(T).addClass("contentInfo2");$(T).html("Qtd Banheiros: "+b.Banheiros);
var U=document.createElement("p");$(U).addClass("contentInfo2");$(U).html("Qtd Churrasqueiras: "+b.Churrasqueiras);var V=document.createElement("p");$(V).addClass("contentInfo2");$(V).html("Qtd Piscinas: "+b.Piscinas);var W=document.createElement("p");$(W).addClass("contentInfo");$(W).html("Descri\u00e7\u00e3o da Ch\u00e1cara: "+b.Descricao);var X=document.createElement("p");$(X).addClass("contentInfo");$(X).html("Nota de Avalia\u00e7\u00e3o: "+b.mediaEstrelas);var Y=document.createElement("p");$(Y).addClass("contentInfo");
$(Y).html("Valor do Aluguel: "+b.valorAluguel);var Z=document.createElement("p");$(Z).addClass("contentInfo");$(Z).html("Propriet\u00e1rio: "+b.Dono);var aa=document.createElement("img");aa.src=b.userFotoURL;$(aa).addClass("userFotoChacPage");var fa=document.createElement("img");fa.src="imagens/icon01.jpg";var ga=document.createElement("img");ga.src="imagens/icon02.jpg";var ha=document.createElement("img");ha.src="imagens/icon03.jpg";var ia=document.createElement("img");ia.src="imagens/icon04.jpg";
var ja=document.createElement("img");ja.src="imagens/icon05.jpg";if("yes"==b.Contrato){var ba=document.createElement("img");ba.src="imagens/icon06.jpg";$(ba).addClass("contratoIcon");var y=document.createElement("button");y.innerHTML="Tenho Interesse";$(y).addClass("btn btn-primary chacBtn");$(y).on("click",function(a){$("#chacAluguelModalContract").modal()})}else{var z=document.createElement("button");z.innerHTML="Tenho Interesse";$(z).addClass("btn btn-primary chacBtn");$(z).on("click",function(a){$("#chacAluguelModal").modal()})}var ca=
document.createElement("p");$(ca).addClass("starsInfo");$(ca).html("Avalie esta ch\u00e1cara: ");var da=document.createElement("ul");$(da).addClass("starUl");var A=document.createElement("button");A.innerHTML="Votar";$(A).addClass("btn btn-primary starBtn");$(A).on("click",function(){$(".starLi").removeClass("active");$(".starLi").removeClass("secondary-active");alert("Sua vota\u00e7\u00e3o foi realizada com Sucesso!")});var B=document.createElement("button");B.innerHTML="Limpar";$(B).addClass("btn btn-primary starBtn");
$(B).on("click",function(){$(".starLi").removeClass("active");$(".starLi").removeClass("secondary-active")});var ea=document.createElement("li");$(ea).addClass("starLi");var v=document.createElement("label");$(v).attr("for","st1");var f=document.createElement("i");$(f).addClass("fa fa-star");$(f).attr("aria-hidden","");$(v).append(f);f=document.createElement("input");$(f).attr("type","radio");$(f).attr("name","star");$(f).attr("value","1");f.id="st1";$(ea).append(v,f);v=document.createElement("li");
$(v).addClass("starLi");f=document.createElement("label");$(f).attr("for","st2");var g=document.createElement("i");$(g).addClass("fa fa-star");$(g).attr("aria-hidden","");$(f).append(g);g=document.createElement("input");$(g).attr("type","radio");$(g).attr("name","star");$(g).attr("value","1");g.id="st2";$(v).append(f,g);f=document.createElement("li");$(f).addClass("starLi");g=document.createElement("label");$(g).attr("for","st3");var h=document.createElement("i");$(h).addClass("fa fa-star");$(h).attr("aria-hidden",
"");$(g).append(h);h=document.createElement("input");$(h).attr("type","radio");$(h).attr("name","star");$(h).attr("value","1");h.id="st3";$(f).append(g,h);g=document.createElement("li");$(g).addClass("starLi");h=document.createElement("label");$(h).attr("for","st4");var l=document.createElement("i");$(l).addClass("fa fa-star");$(l).attr("aria-hidden","");$(h).append(l);l=document.createElement("input");$(l).attr("type","radio");$(l).attr("name","star");$(l).attr("value","1");l.id="st4";$(g).append(h,
l);h=document.createElement("li");$(h).addClass("starLi");l=document.createElement("label");$(l).attr("for","st5");var u=document.createElement("i");$(u).addClass("fa fa-star");$(u).attr("aria-hidden","");$(l).append(u);u=document.createElement("input");$(u).attr("type","radio");$(u).attr("name","star");$(u).attr("value","1");u.id="st5";$(h).append(l,u);$(da).append(ca,ea,v,f,g,h);$(".starLi").on("click",function(){$(this).addClass("active");$(this).prevAll().addClass("secondary-active")});b=b.mediaEstrelas;
if(5==b){var n=document.createElement("img");n.src="imagens/star1.png";var p=document.createElement("img");p.src="imagens/star1.png";var q=document.createElement("img");q.src="imagens/star1.png";var r=document.createElement("img");r.src="imagens/star1.png";var t=document.createElement("img");t.src="imagens/star1.png"}4==b&&(n=document.createElement("img"),n.src="imagens/star1.png",p=document.createElement("img"),p.src="imagens/star1.png",q=document.createElement("img"),q.src="imagens/star1.png",r=
document.createElement("img"),r.src="imagens/star1.png",t=document.createElement("img"),t.src="imagens/star0.png");3==b&&(n=document.createElement("img"),n.src="imagens/star1.png",p=document.createElement("img"),p.src="imagens/star1.png",q=document.createElement("img"),q.src="imagens/star1.png",r=document.createElement("img"),r.src="imagens/star0.png",t=document.createElement("img"),t.src="imagens/star0.png");2==b&&(n=document.createElement("img"),n.src="imagens/star1.png",p=document.createElement("img"),
p.src="imagens/star1.png",q=document.createElement("img"),q.src="imagens/star0.png",r=document.createElement("img"),r.src="imagens/star0.png",t=document.createElement("img"),t.src="imagens/star0.png");1==b&&(n=document.createElement("img"),n.src="imagens/star1.png",p=document.createElement("img"),p.src="imagens/star0.png",q=document.createElement("img"),q.src="imagens/star0.png",r=document.createElement("img"),r.src="imagens/star0.png",t=document.createElement("img"),t.src="imagens/star0.png");0==
b&&(n=document.createElement("img"),n.src="imagens/star0.png",p=document.createElement("img"),p.src="imagens/star0.png",q=document.createElement("img"),q.src="imagens/star0.png",r=document.createElement("img"),r.src="imagens/star0.png",t=document.createElement("img"),t.src="imagens/star0.png");b=document.createElement("button");b.innerHTML="Visualizar todas as informa\u00e7\u00f5es";$(b).addClass("btn btn-primary collapsible");$(b).on("click",function(a){mostrarChac()});$("#chacList").append(d);$(C).append(n,
p,q,r,t);$(D).append(da,A,B);$(E).append(z,y);$(m).append(G);$(F).append(H,J,O,ba);$(x).append(I,K,L,M,N,P,Q,X,Y,fa,R,ga,S,ha,T,ia,U,ja,V,W,Z,aa,D,E);$(w).append(F,C,b,x);$(k).append(m,w)}})}function mostrarChac(){var a=document.getElementsByClassName("collapsible"),c;for(c=0;c<a.length;c++)a[c].addEventListener("click",function(){this.classList.toggle("active");var a=this.nextElementSibling;a.style.maxHeight=a.style.maxHeight?null:a.scrollHeight+"px"})}
function buscarFiltro(){var a,c,k,d;a=document.getElementById("buscaInput").value.toUpperCase();c=document.getElementById("chacList").getElementsByClassName("chacLi");for(d=0;d<c.length;d++)k=c[d].getElementsByTagName("div")[0],-1<k.innerHTML.toUpperCase().indexOf(a)?c[d].style.display="":c[d].style.display="none"}
function displayChacNotification(){if("serviceWorker"in navigator){var a={body:"Uma nova Ch\u00e1cara foi cadastrada em nosso App! Venha Conferir!!!",icon:"/imagens/icons/app-icon-96x96.png",dir:"ltr",lang:"pt-BR",vibrate:[100,50,200],badge:"/imagens/icons/app-icon-96x96.png",tag:"chac-notification",renotify:!0,actions:[{action:"open",title:"Ver",icon:"/imagens/icons/app-icon-96x96.png"},{action:"cancel",title:"Fechar",icon:"/imagens/icons/app-icon-96x96.png"}]};navigator.serviceWorker.ready.then(function(c){c.showNotification("Novidades em nosso App!!!",
a)})}}
function displayAluguelNotification(){if("serviceWorker"in navigator){var a={body:"Em instantes vo\u00e7\u00ea receber\u00e1 o contato do Propriet\u00e1rio para que possam resolver os detalhes da loca\u00e7\u00e3o da ch\u00e1cara!",icon:"/imagens/icons/app-icon-96x96.png",dir:"ltr",lang:"pt-BR",vibrate:[100,50,200],badge:"/imagens/icons/app-icon-96x96.png",tag:"alugChac-notification",renotify:!0,actions:[{action:"continue",title:"Ir para a p\u00e1gina",icon:"/imagens/icons/app-icon-96x96.png"},{action:"cancel",
title:"Fechar",icon:"/imagens/icons/app-icon-96x96.png"}]};navigator.serviceWorker.ready.then(function(c){c.showNotification("Voc\u00ea alugou uma Ch\u00e1cara em nosso App!",a)})}console.log("Usu\u00e1rio escolheu a ch\u00e1cara!!!")}
function displaySolicitarNotification(){if("serviceWorker"in navigator){var a={body:"Enviaremos sua solicita\u00e7\u00e3o ao propriet\u00e1rio da ch\u00e1cara! Voc\u00ea ser\u00e1 notificado assim que o propriet\u00e1rio decidir por fazer o contrato.",icon:"/imagens/icons/app-icon-96x96.png",dir:"ltr",lang:"pt-BR",vibrate:[100,50,200],badge:"/imagens/icons/app-icon-96x96.png",tag:"solicitarContract-notification",renotify:!0,actions:[{action:"confirm",title:"Ok",icon:"/imagens/icons/app-icon-96x96.png"},
{action:"cancel",title:"Fechar",icon:"/imagens/icons/app-icon-96x96.png"}]};navigator.serviceWorker.ready.then(function(c){c.showNotification("Seu pedido de contrato ser\u00e1 encaminhado!",a)})}console.log("Usu\u00e1rio solicitou contrato!!!")}
function criarStarsForUsers(){var a=Math.floor(3*Math.random()),c=Math.floor(5*Math.random()),k=document.createElement("img");k.src="imagens/star0.png";var d=document.createElement("img");d.src="imagens/star0.png";var e=document.createElement("img");e.src="imagens/star0.png";var b=document.createElement("img");b.src="imagens/star0.png";var m=document.createElement("img");m.src="imagens/star0.png";5==c&&(k.src="imagen/star1.png",d.src="imagens/star1.png",e.src="imagens/star1.png",b.src="imagens/star1.png",
m.src="imagens/star1.png");4==c&&(k.src="imagens/star1.png",d.src="imagens/star1.png",e.src="imagens/star1.png",b.src="imagens/star1.png",m.src="imagens/star0.png");3==c&&(k.src="imagens/star1.png",d.src="imagens/star1.png",e.src="imagens/star1.png",b.src="imagens/star0.png",m.src="imagens/star0.png");2==c&&(k.src="imagens/star1.png",d.src="imagens/star1.png",e.src="imagens/star0.png",b.src="imagens/star0.png",m.src="imagens/star0.png");1==c&&(k.src="imagens/star1.png",d.src="imagens/star0.png",e.src=
"imagens/star0.png",b.src="imagens/star0.png",m.src="imagens/star0.png");0==c&&(k.src="imagens/star0.png",d.src="imagens/star0.png",e.src="imagens/star0.png",b.src="imagens/star0.png",m.src="imagens/star0.png");$("#userAvaliacao").append(k,d,e,b,m);$("#userHistorico").html(a+" Ch\u00e1caras Alugadas")}window.onscroll=function(){scrollFunction()};
function scrollFunction(){60<document.body.scrollTop||60<document.documentElement.scrollTop?document.getElementById("topUpBtn").style.display="block":document.getElementById("topUpBtn").style.display="none"}function topFunction(){document.body.scrollTop=0;document.documentElement.scrollTop=0};
